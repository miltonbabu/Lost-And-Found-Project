{% extends "base.html" %} {% block title %}Sign Up - FindIt{% endblock %} {%
block content %}
<style>
  .signup-page {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: calc(100vh - 200px);
    padding: 20px;
  }

  .signup-container {
    background: white;
    border-radius: 12px;
    box-shadow: var(--shadow-xl);
    padding: 24px;
    max-width: 550px;
    width: 100%;
    animation: slideUp 0.5s ease-out;
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .header {
    text-align: center;
    margin-bottom: 20px;
  }

  .header h1 {
    color: var(--text-primary);
    margin: 0;
    font-size: 1.5em;
  }

  .header p {
    color: var(--text-secondary);
    margin: 8px 0 0 0;
    font-size: 1em;
  }

  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
  }

  .signup-btn {
    width: 100%;
    padding: 12px;
    background: linear-gradient(
      135deg,
      var(--primary-color) 0%,
      var(--secondary-color) 100%
    );
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1em;
    font-weight: bold;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    margin: 12px 0;
  }

  .signup-btn:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
  }

  .signup-btn:active {
    transform: translateY(0);
  }

  .login-link {
    text-align: center;
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid var(--border-color);
    font-size: 0.9em;
  }

  .login-link a {
    color: var(--primary-color);
    text-decoration: none;
    font-weight: bold;
  }

  .login-link a:hover {
    text-decoration: underline;
  }

  .requirements {
    background: var(--bg-primary);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 20px;
    font-size: 0.85em;
    box-shadow: var(--shadow-sm);
  }

  .requirements h4 {
    margin: 0 0 12px 0;
    color: var(--text-primary);
    font-size: 1em;
  }

  .requirements ul {
    margin: 0;
    padding-left: 20px;
    color: var(--text-secondary);
  }

  .requirements li {
    margin-bottom: 6px;
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .requirements li::before {
    content: "âœ…";
    font-size: 0.7em;
  }

  .icon {
    font-size: 1.5em;
    margin-bottom: 8px;
  }

  @media (max-width: 768px) {
    .form-row {
      grid-template-columns: 1fr;
    }

    .signup-container {
      padding: 24px 20px;
    }
  }
</style>

<div class="signup-page">
  <div class="signup-container">
    <div class="header">
      <div
        style="
          display: flex;
          align-items: center;
          gap: 12px;
          justify-content: center;
          margin-bottom: 10px;
        "
      >
        <img
          src="{{ url_for('static', filename='logo.svg') }}"
          style="height: 60px; width: 60px"
          alt="FindIt Logo"
        />
        <h1 style="margin: 0;\ font-size: 1.5rem;">FindIt</h1>
      </div>
      <p
        style="margin: 0 0 16px 0;\ font-size: 1rem;\ color: var(--text-secondary);"
      >
        Lost and Found Management System
      </p>
      <h2 style="margin: 0 0 16px 0;\ font-size: 1.25rem;">
        Create an Account
      </h2>
      <p>Join our Lost and Found community</p>
    </div>

    {% with messages = get_flashed_messages(with_categories=true) %} {% if
    messages %} {% for category, message in messages %}
    <div class="alert alert-{{ category }}">{{ message }}</div>
    {% endfor %} {% endif %} {% endwith %}

    <div class="requirements">
      <h4>ðŸ“‹ Account Requirements</h4>
      <ul>
        <li>Username: At least 3 characters, unique</li>
        <li>Email: Valid email address</li>
        <li>Password: At least 6 characters</li>
        <li>All fields are required</li>
      </ul>
    </div>

    <form method="POST">
      <div class="form-group">
        <label for="full_name">Full Name *</label>
        <input
          type="text"
          id="full_name"
          name="full_name"
          required
          placeholder="Enter your full name"
          autocomplete="name"
        />
      </div>

      <div class="form-group">
        <label for="username">Username *</label>
        <input
          type="text"
          id="username"
          name="username"
          required
          placeholder="Choose a unique username"
          autocomplete="username"
        />
      </div>

      <div class="form-group">
        <label for="email">Email Address *</label>
        <input
          type="email"
          id="email"
          name="email"
          required
          placeholder="your.email@example.com"
          autocomplete="email"
        />
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="password">Password *</label>
          <input
            type="password"
            id="password"
            name="password"
            required
            placeholder="Create a password"
            autocomplete="new-password"
          />
        </div>

        <div class="form-group">
          <label for="confirm_password">Confirm Password *</label>
          <input
            type="password"
            id="confirm_password"
            name="confirm_password"
            required
            placeholder="Re-enter password"
            autocomplete="new-password"
          />
        </div>
      </div>

      <button type="submit" class="signup-btn">ðŸŽ‰ Create an Account</button>
    </form>

    <div class="login-link">
      <p>
        Already have an account?
        <a
          href="{{ url_for('login') }}"
          style="
            color: var(--primary-color);
            font-weight: bold;
            text-decoration: none;
          "
          >Login here</a
        >
      </p>
    </div>
  </div>
</div>

<script>
  // Real-time password confirmation
  document.getElementById('confirm_password').addEventListener('input', function() {
      const password = document.getElementById('password').value;
      const confirmPassword = this.value;

      if (confirmPassword && password !== confirmPassword) {
          this.style.borderColor = var(--danger-color);
      } else if (confirmPassword && password === confirmPassword) {
          this.style.borderColor = var(--success-color);
      } else {
          this.style.borderColor = var(--border-color);
      }
  });

  // Username availability check (basic client-side)
  document.getElementById('username').addEventListener('blur', function() {
      const username = this.value;
      if (username && username.length >= 3) {
          this.style.borderColor = var(--primary-color);
      }
  });

  // Email validation
  document.getElementById('email').addEventListener('blur', function() {
      const email = this.value;
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

      if (email && emailRegex.test(email)) {
          this.style.borderColor = var(--success-color);
      } else if (email) {
          this.style.borderColor = var(--danger-color);
      } else {
          this.style.borderColor = var(--border-color);
      }
  });
</script>
{% endblock %}
