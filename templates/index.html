{% extends "base.html" %} {% block title %}Home - FindIt{% endblock %} {% block
content %}
<div class="card">
  <h2>Welcome to the Lost and Found Management System</h2>
  <p>
    Our system helps you report and find lost items within the community. Browse
    through recent reports or submit your own.
  </p>
</div>

<div class="stats-grid">
  <div class="stat-card">
    <div class="stat-number">{{ lost_count }}</div>
    <div class="stat-label">Unclaimed Lost Items</div>
  </div>
  <div class="stat-card">
    <div class="stat-number">{{ found_count }}</div>
    <div class="stat-label">Unclaimed Found Items</div>
  </div>
  <div class="stat-card">
    <div class="stat-number">{{ claimed_count }}</div>
    <div class="stat-label">Successfully Claimed</div>
  </div>
</div>

<div
  style="
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
  "
>
  <div class="card">
    <h3>üîç Recent Lost Items</h3>
    {% if lost_items %}
    <div class="item-grid">
      {% for item in lost_items %}
      <div class="item-card">
        {% if item.image_filename %}
        <div style="margin-bottom: 15px; overflow: hidden; border-radius: 8px">
          <img
            src="{{ url_for('uploaded_file', filename=item.image_filename) }}"
            style="width: 100%; height: 180px; object-fit: cover"
            alt="{{ item.item_name }}"
          />
        </div>
        {% endif %}
        <div class="item-title">{{ item.item_name }}</div>
        <div class="item-meta">Category: {{ item.category }}</div>
        <div class="item-meta">Lost on: {{ item.lost_date }}</div>
        <div class="item-meta">Location: {{ item.location }}</div>
        <div class="item-description">
          {{ item.description[:100] }}{% if item.description|length > 100
          %}...{% endif %}
        </div>
        <div style="margin-top: 15px">
          <a
            href="{{ url_for('view_lost_item', item_id=item.id) }}"
            class="btn btn-sm"
            >View Details</a
          >
          <a
            href="{{ url_for('claim_lost_item', item_id=item.id) }}"
            class="btn btn-success btn-sm"
            >Claim Item</a
          >
        </div>
      </div>
      {% endfor %}
    </div>
    <div style="text-align: center; margin-top: 20px">
      <a href="{{ url_for('list_lost') }}" class="btn">View All Lost Items</a>
    </div>
    {% else %}
    <p>No lost items reported yet.</p>
    {% endif %}
  </div>

  <div class="card">
    <h3>üì¶ Recent Found Items</h3>
    {% if found_items %}
    <div class="item-grid">
      {% for item in found_items %}
      <div class="item-card">
        {% if item.image_filename %}
        <div style="margin-bottom: 15px; overflow: hidden; border-radius: 8px">
          <img
            src="{{ url_for('uploaded_file', filename=item.image_filename) }}"
            style="width: 100%; height: 180px; object-fit: cover"
            alt="{{ item.item_name }}"
          />
        </div>
        {% endif %}
        <div class="item-title">{{ item.item_name }}</div>
        <div class="item-meta">Category: {{ item.category }}</div>
        <div class="item-meta">Found on: {{ item.found_date }}</div>
        <div class="item-meta">Location: {{ item.location }}</div>
        <div class="item-description">
          {{ item.description[:100] }}{% if item.description|length > 100
          %}...{% endif %}
        </div>
        <div style="margin-top: 15px">
          <a
            href="{{ url_for('view_found_item', item_id=item.id) }}"
            class="btn btn-sm"
            >View Details</a
          >
          <a
            href="{{ url_for('claim_found_item', item_id=item.id) }}"
            class="btn btn-success btn-sm"
            >Claim Item</a
          >
        </div>
      </div>
      {% endfor %}
    </div>
    <div style="text-align: center; margin-top: 20px">
      <a href="{{ url_for('list_found') }}" class="btn">View All Found Items</a>
    </div>
    {% else %}
    <p>No found items reported yet.</p>
    {% endif %}
  </div>
</div>

<div class="card" style="margin-top: 30px">
  <h3>üöÄ Quick Actions</h3>
  <div style="text-align: center">
    <a
      href="{{ url_for('report_lost') }}"
      class="btn btn-warning"
      style="font-size: 1.1em; padding: 15px 30px; margin: 10px"
    >
      üîç Report a Lost Item
    </a>
    <a
      href="{{ url_for('report_found') }}"
      class="btn btn-success"
      style="font-size: 1.1em; padding: 15px 30px; margin: 10px"
    >
      üì¶ Report a Found Item
    </a>
  </div>
</div>
{% endblock %}
